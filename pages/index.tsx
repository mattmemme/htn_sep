import type { NextPage } from 'next'
import Head from 'next/head'
import styles from '../styles/Home.module.css'
import { 
  Select, 
  Button, 
  VStack, 
  Image, 
  HStack, 
  Text, 
  Box,
  Flex,
  Spacer,
  Heading} from '@chakra-ui/react'
import React from 'react'
import { useUser } from '@auth0/nextjs-auth0'

const Home: NextPage = () => {
  const { user, isLoading, error } = useUser()

  if (isLoading) return <div>Loading...</div>
  if (error) return <div>{error.message}</div>

  return (
    <div className={styles.container}>
      <Head>
        <title>Frosh Funds</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <header className={styles.header}>
        <Flex padding="5">
          <Box p="2">
            <Heading size="md" color="white">Frosh Funds</Heading>
          </Box>
          <Spacer />
          <Box>
            <Button colorScheme="blue" mr="4">
              <a href="/api/auth/login">Login</a>
            </Button>
            <Button colorScheme="blue">
              <a href="/api/auth/logout">Logout</a>
            </Button>
          </Box>
        </Flex>
      </header>

      <main className={styles.main}>
        
        <HStack>
          <Image
            height="75vh"
            objectFit="contain"
            src="/vert_gears.png"
            alt="gears"
          />

          <VStack spacing={8} height="75vh" width="65vh" justify="center">
            <Text as="b" fontSize="6xl" color="#0070c4" fontFamily="mono">Frosh Funds</Text>

            <Text fontSize="xl" fontFamily="mono">Welcome {user?.name}!</Text>
            
            <Select placeholder="Select School">
              <option value="UofT">University of Toronto</option>
              <option value="UBC">University of British Columbia</option>
              <option value="UW">University of Waterloo</option>
              <option value="Brock">Brock University</option>
              <option value="McMaster">McMaster University</option>
              <option value="Western">Western University</option>
              <option value="Queen's">Queen's University</option>
              <option value="UofC">University of Calgary</option>
            </Select>

            <Button colorScheme="blue">
              <a href="/students">Search</a>
            </Button>

          </VStack>
        </HStack>
      </main>
    </div>
  )
}

export default Home
